---
title: 倒计时设计
date: 2017-12-14 08:00:00
categories:
- Note
tags:
- Note
- tips
---

应用程序运行在前后台两种不同状态下，给用户带来的感知是完全不同的。由于后台状态下的应用对于用户来说是无感知的，因此即便是在后台运行时应用发生了问题，对于开发者来说，也未必是不能接受的事情，因此应用的运行状态对于开发者来说比较重要的。以官方的说明为准，应用总共存在五种运行状态：

- `Not Running`

    应用不再运行，进程资源已经被系统给回收

- `Suspend`

    应用不再运行，使用内存未被回收，如果设备内存不足，那么应用将被清除

- `Background`

    应用进入后台，不能响应用户交互，除了主线程外和后台线程外，其他线程无法执行任务

- `Inactive`

    应用即将进入前台，线程正常执行任务，但无法响应用户交互

- `Active`

    应用进入前台，线程正常执行任务，可以响应用户交互

虽然获取应用的运行状态是很常见的操作，但是在实际开发中，想要精确的获取应用的运行状态却是一个`Impossible Mission`，本文将说明为什么我们所获取的应用状态是不准确的


### 如何获取应用状态
尽管官方声明存在这么多种状态，但是前两种其实可以看做是`被杀死`的状态，所以`UIKit`也只用了三个枚举值来表示：

    typedef NS_ENUM(NSInteger, UIApplicationState) {
        UIApplicationStateActive,
        UIApplicationStateInactive,
        UIApplicationStateBackground
    } NS_ENUM_AVAILABLE_IOS(4_0);



